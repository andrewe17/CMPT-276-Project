<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ninja-Dash</title>
	    <link rel="stylesheet" href="assets/stylesheets/chat.css">
	<!-- The following two lines are for Phaser game engine -->
	<script src="//cdn.jsdelivr.net/npm/phaser@3.18.1/dist/phaser.js"></script>
	<script src="//cdn.jsdelivr.net/npm/phaser@3.18.1/dist/phaser.min.js"></script>

</head>
<body>
	<script src="/socket.io/socket.io.js"></script>
	<script src="assets/js/game.js"></script>
	<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
	<ul id="messages"></ul>
	<form action="">
		<input id="m" autocomplete="off" /><button>Send</button>
	</form>

<script>
$(function () {
 var socket = io();

 //submit chat message
 $('form').submit(function(e){
	 e.preventDefault(); // prevents page reloading
	 socket.emit('chat message', $('#m').val());
	 $('#m').val('');
	 return false;
 });

 //append chat message
 socket.on('chat message', function(msg){
		$('#messages').append($('<li>').text(msg));
	});
	//append online user
	socket.on('is_online', function(username) {
					 $('#messages').append($('<li>').html(username));
			 });
	 // ask username
	 var username = prompt('Please tell me your name');
	socket.emit('username', username);
});

</script>
</body>
</body>
</html>
